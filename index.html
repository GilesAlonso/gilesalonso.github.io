<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolveThis - Automation, AI, and Scripts</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/6441598f31ebfa0fe7f97a64/1gufkbmom';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; line-height: 1.6; color: #333; background-color: #f8f9fa; }
        .header { background: white; padding: 1rem 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: fixed; width: 100%; top: 0; z-index: 1000; }
        .nav-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 2rem; }
        .logo { font-size: 1.5rem; font-weight: bold; color: #2d5a27; }
        .nav-links { display: flex; list-style: none; gap: 2rem; }
        .nav-links a { text-decoration: none; color: #666; font-weight: 500; transition: color 0.3s; cursor: pointer; }
        .nav-links a.active { color: #28a745; font-weight: 600; }
        .lang-toggle { background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold; transition: background 0.3s; }
        .lang-toggle:hover { background: #218838; }

        /* --- New styles for hamburger menu --- */
        .header-controls { display: flex; align-items: center; gap: 1rem; }
        .hamburger-menu {
            display: none; /* Hidden by default on desktop */
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.25rem;
            color: #333;
        }

        .hero { background: linear-gradient(135deg, #2d5a27 0%, #28a745 100%); color: white; padding: 7rem 2rem 5rem; position: relative; overflow: hidden; }
        .hero-container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; align-items: center; }
        .hero-content h1 { font-size: 3rem; font-weight: bold; margin-bottom: 1rem; line-height: 1.2; }
        .hero-content p { font-size: 1.2rem; margin-bottom: 2rem; opacity: 0.9; }
        .cta-button { background: #fd7e14; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: background 0.3s, transform 0.3s; }
        .cta-button:hover { background: #e8681a; transform: translateY(-2px); }

        .hero-visual { position: relative; display: flex; justify-content: center; align-items: center; min-height: 400px; height: 100%; }
        #heroAnimationWrapper { position: relative; display: flex; justify-content: center; align-items: center; border-radius: 50%; background-color: rgba(30, 70, 35, 0.6); box-shadow: 0 0 15px rgba(100, 220, 180, 0.15), inset 0 0 10px rgba(0,0,0,0.25); }
        #heroAnimationCanvas { display: block; }
        .orbiting-tag { position: absolute; background-color: rgba(255, 255, 255, 0.12); color: #e8ffe8; padding: 4px 10px; border-radius: 12px; font-size: 0.7rem; font-weight: 500; border: 1px solid rgba(127, 255, 212, 0.35); backdrop-filter: blur(2px); box-shadow: 0 1px 4px rgba(0,0,0,0.2); will-change: transform; text-align: center; transform-origin: center center; }
        
        section[id] { } .problem-section { background: white; padding: 4rem 2rem; } .problem-container { max-width: 800px; margin: 0 auto; border-left: 4px solid #28a745; padding-left: 2rem; } .problem-section h2 { font-size: 2rem; margin-bottom: 1rem; color: #333; } .problem-section p { font-size: 1.1rem; margin-bottom: 1rem; color: #666; } .solution-text { color: #28a745; font-weight: bold; font-size: 1.2rem; } .services { padding: 4rem 2rem; background: #f8f9fa; } .services-container { max-width: 1200px; margin: 0 auto; } .services h2 { text-align: center; font-size: 2.5rem; margin-bottom: 3rem; color: #333; } .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; } .service-card { background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s, box-shadow 0.3s; } .service-card:hover { transform: translateY(-5px); box-shadow: 0 8px 30px rgba(0,0,0,0.15); } .service-icon { width: 60px; height: 60px; margin: 0 auto 1rem; background: #28a745; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; } .service-card h3 { font-size: 1.3rem; margin-bottom: 1rem; color: #333; } .service-card p { color: #666; font-size: 0.95rem; } .hire-me { padding: 4rem 2rem; background: white; } .hire-container { max-width: 1200px; margin: 0 auto; text-align: center; } .hire-me h2 { font-size: 2.5rem; margin-bottom: 3rem; color: #333; } .profile-links { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; } .profile-card { display: flex; align-items: center; gap: 1rem; padding: 1rem 2rem; background: #f8f9fa; border-radius: 10px; transition: background 0.3s; text-decoration: none; color: #333; } .profile-card:hover { background: #e9ecef; } .profile-icon { width: 40px; height: 40px; background: #28a745; border-radius: 5px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; } .contact-direct { background: #28a745; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: background 0.3s; text-decoration: none; display: inline-block; } .contact-direct:hover { background: #218838; } .contact-section { padding: 4rem 2rem; background: #f8f9fa; } .contact-container { max-width: 600px; margin: 0 auto; } .contact-section h2 { text-align: center; font-size: 2.5rem; margin-bottom: 3rem; color: #333; } .form-group { margin-bottom: 1.5rem; } .form-group label { display: block; margin-bottom: 0.5rem; color: #333; font-weight: 500; } .form-group input, .form-group textarea { width: 100%; padding: 1rem; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; } .form-group input:focus, .form-group textarea:focus { outline: none; border-color: #28a745; } .form-group textarea { resize: vertical; min-height: 120px; } .submit-btn { background: #28a745; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: background 0.3s; width: 100%; } .submit-btn:hover { background: #218838; } .email-note { text-align: center; margin-top: 2rem; color: #666; } .email-link { color: #28a745; text-decoration: none; } .email-link:hover { text-decoration: underline; } .footer { background: #2d5a27; color: white; padding: 2rem 0; } .footer-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 2rem; } .footer-links { display: flex; gap: 2rem; } .footer-links a { color: white; text-decoration: none; transition: opacity 0.3s; } .footer-links a:hover { opacity: 0.8; } .copyright { font-size: 0.9rem; opacity: 0.8; }
        
        @media (max-width: 992px) { .hero-container { grid-template-columns: 1fr; text-align: center; gap: 2rem; } .hero-visual { margin-top: 2rem; grid-row: 1; min-height: 380px; } .hero-content { grid-row: 2; } }
        
        @media (max-width: 768px) {
            .hero-content h1 { font-size: 2.2rem; }
            .profile-links { flex-direction: column; align-items: center; }
            .footer-container { flex-direction: column; gap: 1rem; }
            .hero-visual { min-height: 340px; }

            /* --- Hamburger Menu Styles --- */
            .hamburger-menu {
                display: block; /* Show hamburger on mobile */
            }
            .nav-links {
                /* Style nav links as a dropdown menu */
                display: none; /* Hide by default */
                position: absolute;
                top: 100%; /* Position below the header */
                left: 0;
                width: 100%;
                background-color: white;
                flex-direction: column;
                align-items: center;
                gap: 0;
                padding: 1rem 0;
                box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            }
            .nav-links li { width: 100%; }
            .nav-links a {
                display: block;
                width: 100%;
                text-align: center;
                padding: 0.75rem 1rem;
            }
            /* When menu is open, show the links */
            .header.mobile-menu-open .nav-links {
                display: flex;
            }
        }

        .message { padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none; } .message.success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; } .message.error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; } .about-modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); overflow-y: auto; overflow-x: hidden; justify-content: center; align-items: flex-start; padding: 3rem 1.5rem; } .about-modal-content-wrapper { width: 100%; max-width: 1000px; margin: 0 auto; box-sizing: border-box; } .about-modal-inner-content { background-color: transparent; border-radius: 10px; position: relative; max-width: 1000px; width: 100%; } #skillsList { display: grid; gap: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); } @media (max-width: 640px) { .about-modal { padding: 2rem 1rem; } } #aboutModal section { } .about-modal-close { color: #aaa; position: absolute; top: 10px; right: 15px; font-size: 35px; font-weight: bold; line-height: 1; z-index: 2010; } .about-modal-close:hover, .about-modal-close:focus { color: #333; text-decoration: none; cursor: pointer; }
    </style>
</head>
<body>
    <!-- MODIFICATION: Added id="header" to the header tag -->
    <header class="header" id="header">
        <div class="nav-container">
            <div class="logo">SolveThis</div>
            <nav>
                <!-- MODIFICATION: Added id="nav-links" to the ul tag -->
                <ul class="nav-links" id="nav-links">
                    <li><a href="#home" data-translate="nav-home">Home</a></li>
                    <li><a href="#services" data-translate="nav-services">Services</a></li>
                    <li><a href="blog.html" data-translate="nav-blog">Blog</a></li>
                    <li><a href="#portfolio" data-translate="nav-portfolio">Portfolio</a></li>
                    <li><a href="https://gilesalonso.github.io/IAdventures" target="_blank" rel="noopener noreferrer" data-translate="nav-iadventures">IAdventures</a></li>
                    <li><a href="#about" data-translate="nav-about">About</a></li>
                    <li><a href="#contact" data-translate="nav-contact">Contact</a></li>
                </ul>
            </nav>
            <!-- MODIFICATION: Wrapped language toggle and new hamburger button in a div -->
            <div class="header-controls">
                <button class="lang-toggle" onclick="toggleLanguage()">EN</button>
                <button id="hamburger-menu" class="hamburger-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <section id="home" class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1 data-translate="hero-title">Automation, AI, and scripts—solved.</h1>
                <p data-translate="hero-subtitle">I'm a freelance developer who turns ideas, inefficiencies, and "how do I even...?" into streamlined, scalable solutions.</p>
                <button class="cta-button" onclick="scrollToContact(event)" data-translate="hero-cta">Discuss your project</button>
            </div>
            <div class="hero-visual">
                <div id="heroAnimationWrapper">
                    <canvas id="heroAnimationCanvas"></canvas>
                    <!-- Orbiting tags will be dynamically added here by JS -->
                </div>
            </div>
        </div>
    </section>

    <section class="problem-section"> <div class="problem-container"> <h2 data-translate="problem-title">Have a process that wastes your time?</h2> <p data-translate="problem-desc1">A spreadsheet that needs automation?</p> <p data-translate="problem-desc2">A workflow begging for AI?</p> <p class="solution-text" data-translate="solution-text">You bring the problem. I'll Solve It.</p> </div> </section>
    <section id="services" class="services"> <div class="services-container"> <h2 data-translate="services-title">Services</h2> <div class="services-grid"> <div class="service-card"> <div class="service-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M13,2.05V5.08C16.39,5.57 19,8.47 19,12C19,12.9 18.82,13.75 18.5,14.54L21.12,16.07C21.68,14.83 22,13.45 22,12C22,6.82 18.05,2.55 13,2.05M12,19A7,7 0 0,1 5,12C5,8.47 7.61,5.57 11,5.08V2.05C5.94,2.55 2,6.81 2,12A10,10 0 0,0 12,22C15.3,22 18.23,20.39 20.07,17.93L17.45,16.4C15.17,18.39 13.15,19 12,19Z"/></svg></div> <h3 data-translate="service1-title">Process Automation</h3> <p data-translate="service1-desc">Transform manual tasks into efficient automated workflows</p> </div> <div class="service-card"> <div class="service-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M2,2H4V20H2V2M22,2V4H4V2H22M4,6H16V8H4V6M4,10H12V12H4V10M4,14H16V16H4V14M18,14V20H20V14H18M18,10V12H22V10H18Z"/></svg></div> <h3 data-translate="service2-title">Data Visualization</h3> <p data-translate="service2-desc">Convert complex data into clear, actionable insights</p> </div> <div class="service-card"> <div class="service-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/></svg></div> <h3 data-translate="service3-title">Custom App Development</h3> <p data-translate="service3-desc">Build tailored applications that solve your specific challenges</p> </div> <div class="service-card"> <div class="service-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M17,12C17,14.42 15.28,16.44 13,16.9V21H11V16.9C8.72,16.44 7,14.42 7,12C7,9.58 8.72,7.56 11,7.1V2H13V7.1C15.28,7.56 17,9.58 17,12M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"/></svg></div> <h3 data-translate="service4-title">System Integration</h3> <p data-translate="service4-desc">Connect disparate systems for seamless data flow</p> </div> </div> </div> </section>
    <section id="portfolio" class="hire-me"> <div class="hire-container"> <h2 data-translate="hire-title">Hire Me</h2> <div class="profile-links"> <a href="https://www.fiverr.com/gilesgrollaalon?public_mode=true" target="_blank" class="profile-card"> <div class="profile-icon">F</div> <span data-translate="fiverr-profile">View my Fiverr profile</span> </a> <a href="https://www.upwork.com/freelancers/~013c8c29302f14f74b" target="_blank" class="profile-card"> <div class="profile-icon">U</div> <span data-translate="upwork-profile">View my Upwork profile</span> </a> </div> <a href="#contact" class="contact-direct" data-translate="contact-directly">Contact me directly</a> </div> </section>
    <section id="contact" class="contact-section"> <div class="contact-container"> <h2 data-translate="contact-title">Let's Work Together</h2> <div id="form-message" class="message"></div> <form id="contact-form"> <div class="form-group"> <label for="name" data-translate="form-name">Name</label> <input type="text" id="name" name="name" required> </div> <div class="form-group"> <label for="email" data-translate="form-email">Email</label> <input type="email" id="email" name="email" required> </div> <div class="form-group"> <label for="message" data-translate="form-message">Message</label> <textarea id="message" name="message" required></textarea> </div> <button type="submit" class="submit-btn" data-translate="form-submit">Send Message</button> </form> <div class="email-note"> <p data-translate="email-note">You can also contact me directly via email:</p> <a href="mailto:giles.g.alonso@gmail.com" class="email-link">giles.g.alonso@gmail.com</a> </div> </div> </section>
    <div id="aboutModal" class="about-modal"> <div class="about-modal-content-wrapper"> <div class="about-modal-inner-content"> <span class="about-modal-close" onclick="closeAboutModal()">×</span> <section class="py-10 px-4 md:px-8 bg-white rounded-lg shadow-xl"> <div class="max-w-5xl mx-auto text-center">
              <h2 class="text-4xl font-bold text-gray-900 mb-6" data-translate="about-title">About Me</h2>
              <p class="text-lg text-gray-700 mb-8" data-translate="about-subtitle">Turning complexity into clarity with automation, AI, and scripts.</p>
              <div class="flex flex-col md:flex-row items-start md:items-stretch justify-center gap-8 text-left">
                <div class="bg-green-700 text-white rounded-lg p-8 shadow-lg md:flex-1">
                  <h3 class="text-2xl font-semibold mb-4" data-translate="about-card1-title">Hey, I’m Giles!</h3>
                  <p class="text-base" data-translate="about-card1-desc">
                    I’m a freelance developer with a passion for solving problems through technology. With years of experience on platforms like Fiverr and Upwork, I specialize in process automation, data visualization, custom app development, and system integration. My mission? To streamline workflows, eliminate inefficiencies, and make your life easier—whether it’s automating a tedious task or building a tailored app that fits your needs perfectly.
                  </p>
                </div>
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-8 shadow-lg md:flex-1">
                  <h3 class="text-2xl font-semibold text-gray-900 mb-4" data-translate="about-card2-title">Why Work With Me?</h3>
                  <p class="text-base text-gray-700" data-translate="about-card2-desc">
                    I believe in the power of technology to transform how we work. From creating seamless workflows to visualizing data in meaningful ways, I bring creativity and precision to every project. My clients on Fiverr and Upwork trust me to deliver scalable, efficient solutions—and I’d love to do the same for you. Let’s solve your challenges together!
                  </p>
                  <a
                    href="#contact"
                    class="inline-block mt-6 bg-orange-500 text-white font-semibold py-2 px-6 rounded-full hover:bg-orange-600 transition"
                    data-translate="about-cta"
                    onclick="closeAboutModalAndScrollToContact(event)"
                    >Let’s Collaborate</a
                  >
                </div>
              </div>
              <div class="mt-12 text-left">
                <h3 class="text-3xl font-bold text-gray-900 mb-4" data-translate="skills-title">Skills &amp; Capabilities</h3>
                <p class="text-base text-gray-600 mb-6" data-translate="skills-subtitle">
                  An overview of the platforms, languages, and frameworks I use to deliver results.
                </p>
                <div id="skillsList" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>
              </div>
            </div>
          </section> </div> </div> </div>
    <footer class="footer"> <div class="footer-container"> <div class="logo">SolveThis</div> <div class="footer-links"> <a href="https://www.fiverr.com/gilesgrollaalon?public_mode=true" target="_blank">Fiverr</a> <a href="https://www.upwork.com/freelancers/~013c8c29302f14f74b" target="_blank">Upwork</a> </div> <div class="copyright" data-translate="copyright">© 2025 SolveThis. All rights reserved.</div> </div> </footer>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript"> (function(){ emailjs.init({ publicKey: "w1jAEwgZ0Bhz0eio_" }); })(); </script>
    
    <script>
        // === Main Website Script ===
        // THE TRANSLATIONS OBJECT IS NOW FULLY POPULATED
        const translations = {
            en: {
                "nav-home": "Home", "nav-services": "Services", "nav-blog": "Blog", "nav-portfolio": "Portfolio", "nav-iadventures": "IAdventures", "nav-about": "About", "nav-contact": "Contact",
                "hero-title": "Automation, AI, and scripts—solved.",
                "hero-subtitle": "I'm a freelance developer who turns ideas, inefficiencies, and \"how do I even...?\" into streamlined, scalable solutions.",
                "hero-cta": "Discuss your project",
                "problem-title": "Have a process that wastes your time?",
                "problem-desc1": "A spreadsheet that needs automation?",
                "problem-desc2": "A workflow begging for AI?",
                "solution-text": "You bring the problem. I'll Solve It.",
                "services-title": "Services",
                "service1-title": "Process Automation", "service1-desc": "Transform manual tasks into efficient automated workflows",
                "service2-title": "Data Visualization", "service2-desc": "Convert complex data into clear, actionable insights",
                "service3-title": "Custom App Development", "service3-desc": "Build tailored applications that solve your specific challenges",
                "service4-title": "System Integration", "service4-desc": "Connect disparate systems for seamless data flow",
                "hire-title": "Hire Me",
                "fiverr-profile": "View my Fiverr profile",
                "upwork-profile": "View my Upwork profile",
                "contact-directly": "Contact me directly",
                "contact-title": "Let's Work Together",
                "form-name": "Name", "form-email": "Email", "form-message": "Message", "form-submit": "Send Message",
                "email-note": "You can also contact me directly via email:",
                "about-title": "About Me", "about-subtitle": "Turning complexity into clarity with automation, AI, and scripts.",
                "about-card1-title": "Hey, I’m Giles!", "about-card1-desc": "I’m a freelance developer with a passion for solving problems through technology. With years of experience on platforms like Fiverr and Upwork, I specialize in process automation, data visualization, custom app development, and system integration. My mission? To streamline workflows, eliminate inefficiencies, and make your life easier—whether it’s automating a tedious task or building a tailored app that fits your needs perfectly.",
                "about-card2-title": "Why Work With Me?", "about-card2-desc": "I believe in the power of technology to transform how we work. From creating seamless workflows to visualizing data in meaningful ways, I bring creativity and precision to every project. My clients on Fiverr and Upwork trust me to deliver scalable, efficient solutions—and I’d love to do the same for you. Let’s solve your challenges together!",
                "about-cta": "Let’s Collaborate",
                "skills-title": "Skills & Capabilities",
                "skills-subtitle": "An overview of the platforms, languages, and frameworks I use to deliver results.",
                "copyright": "© 2025 SolveThis. All rights reserved."
            },
            pt: {
                "nav-home": "Início", "nav-services": "Serviços", "nav-blog": "Blog", "nav-portfolio": "Portfólio", "nav-iadventures": "IAdventures", "nav-about": "Sobre", "nav-contact": "Contato",
                "hero-title": "Automação, IA e scripts—resolvidos.",
                "hero-subtitle": "Sou um desenvolvedor freelancer que transforma ideias, ineficiências e \"como é que eu faço...?\" em soluções otimizadas e escaláveis.",
                "hero-cta": "Discuta seu projeto",
                "problem-title": "Tem um processo que desperdiça seu tempo?",
                "problem-desc1": "Uma planilha que precisa de automação?",
                "problem-desc2": "Um fluxo de trabalho implorando por IA?",
                "solution-text": "Você traz o problema. Eu resolvo.",
                "services-title": "Serviços",
                "service1-title": "Automação de Processos", "service1-desc": "Transforme tarefas manuais em fluxos de trabalho automatizados e eficientes",
                "service2-title": "Visualização de Dados", "service2-desc": "Converta dados complexos em insights claros e acionáveis",
                "service3-title": "Desenvolvimento de Apps", "service3-desc": "Crie aplicativos sob medida que resolvem seus desafios específicos",
                "service4-title": "Integração de Sistemas", "service4-desc": "Conecte sistemas distintos para um fluxo de dados contínuo",
                "hire-title": "Contrate-me",
                "fiverr-profile": "Veja meu perfil no Fiverr",
                "upwork-profile": "Veja meu perfil no Upwork",
                "contact-directly": "Contate-me diretamente",
                "contact-title": "Vamos Trabalhar Juntos",
                "form-name": "Nome", "form-email": "Email", "form-message": "Mensagem", "form-submit": "Enviar Mensagem",
                "email-note": "Você também pode me contatar diretamente por e-mail:",
                "about-title": "Sobre Mim", "about-subtitle": "Transformando complexidade em clareza com automação, IA e scripts.",
                "about-card1-title": "Olá, eu sou o Giles!", "about-card1-desc": "Sou um desenvolvedor freelancer apaixonado por resolver problemas com tecnologia. Com anos de experiência em plataformas como Fiverr e Upwork, sou especialista em automação de processos, visualização de dados, desenvolvimento de aplicativos e integração de sistemas. Minha missão? Otimizar fluxos de trabalho, eliminar ineficiências e facilitar sua vida - seja automatizando uma tarefa tediosa ou construindo um aplicativo sob medida que se encaixa perfeitamente em suas necessidades.",
                "about-card2-title": "Por Que Trabalhar Comigo?", "about-card2-desc": "Acredito no poder da tecnologia para transformar a forma como trabalhamos. Desde a criação de fluxos de trabalho contínuos até a visualização de dados de maneiras significativas, trago criatividade e precisão a cada projeto. Meus clientes no Fiverr e Upwork confiam em mim para entregar soluções escaláveis e eficientes - e eu adoraria fazer o mesmo por você. Vamos resolver seus desafios juntos!",
                "about-cta": "Vamos Colaborar",
                "skills-title": "Habilidades e Capacidades",
                "skills-subtitle": "Uma visão geral das plataformas, linguagens e frameworks que utilizo para gerar resultados.",
                "copyright": "© 2025 SolveThis. Todos os direitos reservados."
            }
        };

        const skillsContent = {
            en: [
                {
                    key: "data-analytics",
                    title: "Data & Analytics",
                    summary: "Transforming raw data into reusable assets through visualization, scripting, and statistical tooling.",
                    items: [
                        { name: "Tableau", note: "Experienced" },
                        { name: "Google Looker Studio / Data Studio", note: "Proficient" },
                        { name: "Microsoft Excel", note: "Highly experienced" },
                        { name: "Google Sheets", note: "Experienced" },
                        { name: "SQL", note: "Proficient" },
                        { name: "Python", note: "Intermediate — applied for analytics and automation" },
                        { name: "Jupyter & Google Colab", note: "Intermediate" },
                        { name: "Power BI", note: "Familiar" },
                        { name: "R", note: "Advanced — created scripts for ETL of public healthcare data" },
                        { name: "RStudio", note: "Advanced" }
                    ]
                },
                {
                    key: "development-automation",
                    title: "Development & Automation",
                    summary: "Automation-first development across scripts, web apps, and integrations.",
                    items: [
                        { name: "Google Apps Script & Webhooks", note: "Advanced — built webhook endpoints to receive, split, and distribute datasets" },
                        { name: "Python", note: "Intermediate — automation assistants and data pipelines" },
                        { name: "Git & GitHub", note: "Moderate" },
                        { name: "Selenium", note: "Intermediate — used to navigate and download Excel files automatically" },
                        { name: "Bash / Shell", note: "Proficient" },
                        { name: "PowerShell", note: "Proficient — used for secure execution and environment prep" },
                        { name: "Batch scripting", note: "Proficient — used to orchestrate PowerShell execution and R sequences" },
                        { name: "Markdown", note: "Experienced" },
                        { name: "JavaScript", note: "Advanced" },
                        { name: "Node.js", note: "Intermediate" },
                        { name: "React", note: "Intermediate" },
                        { name: "Next.js", note: "Intermediate" },
                        { name: "MongoDB", note: "Intermediate" },
                        { name: "Firebase", note: "Intermediate" },
                        { name: "AppSheet", note: "Experienced — delivers automation-ready business apps" },
                        { name: "HTML5 & CSS3", note: "Advanced" },
                        { name: "Visual Studio Code", note: "Primary IDE" },
                        { name: "Postman", note: "API testing and contract validation" },
                        { name: "Vercel", note: "Production deployments" },
                        { name: "Heroku", note: "Legacy deployments" }
                    ]
                },
                {
                    key: "operating-systems-infrastructure",
                    title: "Operating Systems & Infrastructure",
                    summary: "Maintaining reliable environments across Linux and Windows ecosystems.",
                    items: [
                        { name: "Xubuntu / Linux Mint", note: "Competent" },
                        { name: "HPLIP (HP Linux Imaging and Printing)", note: "Experienced" },
                        { name: "Windows Task Scheduler", note: "Experienced" }
                    ]
                },
                {
                    key: "collaboration-productivity",
                    title: "Collaboration & Productivity",
                    summary: "Keeping projects aligned and stakeholders informed.",
                    items: [
                        { name: "Google Workspace (Docs, Drive, Slides, Forms)", note: "Experienced" },
                        { name: "Notion", note: "Familiar" },
                        { name: "Trello", note: "Familiar" },
                        { name: "Asana", note: "Basic familiarity" },
                        { name: "Miro", note: "Familiar" },
                        { name: "LibreOffice / OpenOffice Calc", note: "Experienced" }
                    ]
                },
                {
                    key: "ai-emerging-tech",
                    title: "AI & Emerging Tech",
                    summary: "Hands-on with modern AI assistants for ideation, prototyping, and delivery.",
                    items: [
                        { name: "ChatGPT", note: "Experienced user" },
                        { name: "Google AI Studio" },
                        { name: "Qwen" },
                        { name: "Manus" },
                        { name: "Kimi" },
                        { name: "Perplexity" },
                        { name: "Claude" },
                        { name: "cto.new" }
                    ]
                },
                {
                    key: "project-management-frameworks",
                    title: "Project Management & Strategic Frameworks",
                    summary: "Structured approaches that guide strategy, operations, and delivery.",
                    items: [
                        { name: "5W2H", note: "Experienced" },
                        { name: "RACI Matrix", note: "Proficient" },
                        { name: "SWOT Analysis", note: "Experienced" },
                        { name: "BPM Canvas", note: "Familiar" },
                        { name: "Ishikawa / Fishbone Diagram", note: "Familiar" },
                        { name: "PDCA Cycle", note: "Experienced" },
                        { name: "Kanban", note: "Experienced" },
                        { name: "Gantt Chart", note: "Familiar" },
                        { name: "Stakeholder Power-Interest Grid", note: "Experienced" },
                        { name: "Logic Model / LogFrame", note: "Familiar" },
                        { name: "SMART Objectives", note: "Experienced" },
                        { name: "Process Mapping / Flowcharting", note: "Experienced" },
                        { name: "Risk Matrix", note: "Familiar" },
                        { name: "Value Stream Mapping", note: "Learning / Basic" },
                        { name: "OKR", note: "Familiar" },
                        { name: "Balanced Scorecard", note: "Familiar" },
                        { name: "Mind Mapping", note: "Experienced" },
                        { name: "Business Model Canvas", note: "Familiar" }
                    ]
                }
            ],
            pt: [
                {
                    key: "data-analytics",
                    title: "Dados e Analytics",
                    summary: "Transformando dados brutos em ativos reutilizáveis por meio de visualização, scripts e ferramentas estatísticas.",
                    items: [
                        { name: "Tableau", note: "Experiente" },
                        { name: "Google Looker Studio / Data Studio", note: "Proficiente" },
                        { name: "Microsoft Excel", note: "Altamente experiente" },
                        { name: "Google Sheets", note: "Experiente" },
                        { name: "SQL", note: "Proficiente" },
                        { name: "Python", note: "Intermediário — aplicado em análises e automações" },
                        { name: "Jupyter & Google Colab", note: "Intermediário" },
                        { name: "Power BI", note: "Familiar" },
                        { name: "R", note: "Avançado — criei scripts de ETL para dados públicos de saúde" },
                        { name: "RStudio", note: "Avançado" }
                    ]
                },
                {
                    key: "development-automation",
                    title: "Desenvolvimento & Automação",
                    summary: "Desenvolvimento com foco em automação para scripts, web apps e integrações.",
                    items: [
                        { name: "Google Apps Script & Webhooks", note: "Avançado — criei endpoints para receber, dividir e distribuir conjuntos de dados" },
                        { name: "Python", note: "Intermediário — automações e pipelines de dados" },
                        { name: "Git & GitHub", note: "Moderado" },
                        { name: "Selenium", note: "Intermediário — uso para navegar e baixar planilhas Excel automaticamente" },
                        { name: "Bash / Shell", note: "Proficiente" },
                        { name: "PowerShell", note: "Proficiente — utilizado para execução segura e preparação de ambientes" },
                        { name: "Batch scripting", note: "Proficiente — utilizado para orquestrar execuções em PowerShell e rotinas em R" },
                        { name: "Markdown", note: "Experiente" },
                        { name: "JavaScript", note: "Avançado" },
                        { name: "Node.js", note: "Intermediário" },
                        { name: "React", note: "Intermediário" },
                        { name: "Next.js", note: "Intermediário" },
                        { name: "MongoDB", note: "Intermediário" },
                        { name: "Firebase", note: "Intermediário" },
                        { name: "AppSheet", note: "Experiente — construo apps prontos para automações empresariais" },
                        { name: "HTML5 & CSS3", note: "Avançado" },
                        { name: "Visual Studio Code", note: "IDE principal" },
                        { name: "Postman", note: "Testes de API e validação de contratos" },
                        { name: "Vercel", note: "Deploys em produção" },
                        { name: "Heroku", note: "Deploys legados" }
                    ]
                },
                {
                    key: "operating-systems-infrastructure",
                    title: "Sistemas Operacionais & Infraestrutura",
                    summary: "Manutenção de ambientes confiáveis em ecossistemas Linux e Windows.",
                    items: [
                        { name: "Xubuntu / Linux Mint", note: "Competente" },
                        { name: "HPLIP (HP Linux Imaging and Printing)", note: "Experiente" },
                        { name: "Windows Task Scheduler", note: "Experiente" }
                    ]
                },
                {
                    key: "collaboration-productivity",
                    title: "Colaboração & Produtividade",
                    summary: "Mantendo projetos alinhados e stakeholders informados.",
                    items: [
                        { name: "Google Workspace (Docs, Drive, Slides, Forms)", note: "Experiente" },
                        { name: "Notion", note: "Familiar" },
                        { name: "Trello", note: "Familiar" },
                        { name: "Asana", note: "Familiaridade básica" },
                        { name: "Miro", note: "Familiar" },
                        { name: "LibreOffice / OpenOffice Calc", note: "Experiente" }
                    ]
                },
                {
                    key: "ai-emerging-tech",
                    title: "IA & Tecnologias Emergentes",
                    summary: "Vivência prática com assistentes de IA modernos para ideação, prototipagem e entrega.",
                    items: [
                        { name: "ChatGPT", note: "Usuário experiente" },
                        { name: "Google AI Studio" },
                        { name: "Qwen" },
                        { name: "Manus" },
                        { name: "Kimi" },
                        { name: "Perplexity" },
                        { name: "Claude" },
                        { name: "cto.new" }
                    ]
                },
                {
                    key: "project-management-frameworks",
                    title: "Gestão de Projetos & Frameworks Estratégicos",
                    summary: "Abordagens estruturadas que orientam estratégia, operações e entregas.",
                    items: [
                        { name: "5W2H", note: "Experiente" },
                        { name: "Matriz RACI", note: "Proficiente" },
                        { name: "Análise SWOT", note: "Experiente" },
                        { name: "BPM Canvas", note: "Familiar" },
                        { name: "Diagrama de Ishikawa / Espinha de Peixe", note: "Familiar" },
                        { name: "Ciclo PDCA", note: "Experiente" },
                        { name: "Kanban", note: "Experiente" },
                        { name: "Gráfico de Gantt", note: "Familiar" },
                        { name: "Matriz Poder-Interesse de Stakeholders", note: "Experiente" },
                        { name: "Modelo Lógico / LogFrame", note: "Familiar" },
                        { name: "Objetivos SMART", note: "Experiente" },
                        { name: "Mapeamento de Processos / Fluxogramas", note: "Experiente" },
                        { name: "Matriz de Riscos", note: "Familiar" },
                        { name: "Value Stream Mapping", note: "Em aprendizado / Básico" },
                        { name: "OKR", note: "Familiar" },
                        { name: "Balanced Scorecard", note: "Familiar" },
                        { name: "Mapas Mentais", note: "Experiente" },
                        { name: "Business Model Canvas", note: "Familiar" }
                    ]
                }
            ]
        };

        function renderSkillsContent(lang) {
            const container = document.getElementById('skillsList');
            if (!container) return;
            const categories = skillsContent[lang] || skillsContent.en;
            container.innerHTML = '';
            categories.forEach(category => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 border border-gray-200 rounded-xl p-6 shadow-lg flex flex-col gap-4';
                const title = document.createElement('h4');
                title.className = 'text-xl font-semibold text-gray-900';
                title.textContent = category.title;
                card.appendChild(title);
                if (category.summary) {
                    const summary = document.createElement('p');
                    summary.className = 'text-sm text-gray-600';
                    summary.textContent = category.summary;
                    card.appendChild(summary);
                }
                if (category.items && category.items.length > 0) {
                    const list = document.createElement('ul');
                    list.className = 'space-y-2 text-sm text-gray-700';
                    category.items.forEach(item => {
                        const listItem = document.createElement('li');
                        listItem.className = 'border-l-4 border-green-200 pl-3';
                        const nameSpan = document.createElement('span');
                        nameSpan.className = 'font-semibold text-gray-900';
                        nameSpan.textContent = item.name;
                        listItem.appendChild(nameSpan);
                        if (item.note) {
                            const noteSpan = document.createElement('span');
                            noteSpan.className = 'block text-gray-500';
                            noteSpan.textContent = item.note;
                            listItem.appendChild(noteSpan);
                        }
                        list.appendChild(listItem);
                    });
                    card.appendChild(list);
                }
                container.appendChild(card);
            });
        }

        let currentLang = 'en'; let headerHeight = 0; let aboutModal; let aboutModalContentWrapper; let aboutModalInnerContent; 
        function applyTranslations() {
            const langButton = document.querySelector('.lang-toggle');
            if (langButton) {
                langButton.textContent = currentLang.toUpperCase();
            }
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[currentLang] && translations[currentLang][key]) {
                    el.innerHTML = translations[currentLang][key];
                }
            });
            renderSkillsContent(currentLang);
        }
        function toggleLanguage() { currentLang = currentLang === 'en' ? 'pt' : 'en'; applyTranslations(); if (aboutModal && aboutModal.style.display === 'flex') { document.querySelectorAll('#aboutModal [data-translate]').forEach(el => { const key = el.getAttribute('data-translate'); if (translations[currentLang] && translations[currentLang][key]) { el.innerHTML = translations[currentLang][key]; } }); } }
        function scrollToSection(sectionId, event) { if (event) event.preventDefault(); const cleanSectionId = sectionId.startsWith('#') ? sectionId.substring(1) : sectionId; const section = document.getElementById(cleanSectionId); if (section) { const sectionTop = section.getBoundingClientRect().top + window.pageYOffset - headerHeight; window.scrollTo({ top: sectionTop, behavior: 'smooth' }); } }
        function scrollToContact(event) { scrollToSection('#contact', event); };
        function showFormMessage(type, textKeyOrMessage) { const messageDiv = document.getElementById('form-message'); const text = (translations[currentLang] && translations[currentLang][textKeyOrMessage]) || textKeyOrMessage; if (messageDiv) { messageDiv.className = `message ${type}`; messageDiv.textContent = text; messageDiv.style.display = 'block'; setTimeout(() => { messageDiv.style.display = 'none'; }, 7000); } }
        function triggerMailtoFallback(data) { alert("EmailJS failed. Please send your message directly to giles.g.alonso@gmail.com"); };
        function resetAboutModalScroll() { if (aboutModal) { aboutModal.scrollTop = 0; } if (aboutModalContentWrapper) { aboutModalContentWrapper.scrollTop = 0; } if (aboutModalInnerContent) { aboutModalInnerContent.scrollTop = 0; } }
        function openAboutModal() { if (aboutModal) { renderSkillsContent(currentLang); document.querySelectorAll('#aboutModal [data-translate]').forEach(el => { const key = el.getAttribute('data-translate'); if (translations[currentLang] && translations[currentLang][key]) { el.innerHTML = translations[currentLang][key]; } }); resetAboutModalScroll(); aboutModal.style.display = 'flex'; resetAboutModalScroll(); document.body.style.overflow = 'hidden'; } }
        function closeAboutModal() { if (aboutModal) { resetAboutModalScroll(); aboutModal.style.display = 'none'; document.body.style.overflow = 'auto'; } };
        function closeAboutModalAndScrollToContact(event) { closeAboutModal(); if (event) event.preventDefault(); scrollToSection('#contact'); };
        
        document.addEventListener('DOMContentLoaded', function() {
            aboutModal = document.getElementById('aboutModal'); if (aboutModal) { aboutModalContentWrapper = aboutModal.querySelector('.about-modal-content-wrapper'); aboutModalInnerContent = aboutModal.querySelector('.about-modal-inner-content'); } 
            const header = document.getElementById('header'); // Changed selector
            if (header && getComputedStyle(header).position === 'fixed') { 
                headerHeight = header.offsetHeight; 
                document.body.style.paddingTop = headerHeight + 'px';
            }
            
            // --- MODIFICATION: Hamburger menu logic ---
            const hamburgerBtn = document.getElementById('hamburger-menu');
            const navLinks = document.getElementById('nav-links');

            if (hamburgerBtn && navLinks && header) {
                hamburgerBtn.addEventListener('click', () => {
                    header.classList.toggle('mobile-menu-open');
                });

                // Close menu when a link is clicked
                navLinks.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        if (header.classList.contains('mobile-menu-open')) {
                            header.classList.remove('mobile-menu-open');
                        }
                    });
                });
            }
            // --- End of modification ---

            applyTranslations();
            
            document.querySelectorAll('.nav-links a').forEach(link => { link.addEventListener('click', function(e) { const href = this.getAttribute('href'); if (href.startsWith('#')) { if (href === '#about') { e.preventDefault(); openAboutModal(); } else { scrollToSection(href, e); } } }); });
            const ctaButton = document.querySelector('.cta-button'); if (ctaButton) ctaButton.addEventListener('click', scrollToContact);
            const contactDirectLink = document.querySelector('.contact-direct[href="#contact"]'); if (contactDirectLink) contactDirectLink.addEventListener('click', function(e) { scrollToSection('#contact', e); });
            const aboutModalCta = document.querySelector('#aboutModal a[href="#contact"]'); if (aboutModalCta) aboutModalCta.addEventListener('click', closeAboutModalAndScrollToContact);
            if (aboutModal) { aboutModal.addEventListener('click', function(event) { if (event.target === aboutModal) closeAboutModal(); }); }
            window.addEventListener('keydown', function (event) { if (event.key === 'Escape' || event.key === 'Esc') { if (aboutModal && aboutModal.style.display !== 'none') closeAboutModal(); } });
            const form = document.getElementById('contact-form'); if (form) { form.addEventListener('submit', async function(e) { e.preventDefault(); const serviceID = 'default_service'; const templateID = 'template_t9p1ssu'; try { await emailjs.sendForm(serviceID, templateID, this); showFormMessage('success', 'form-success'); this.reset(); } catch (err) { console.error('EmailJS Error:', err); showFormMessage('error', 'form-error'); triggerMailtoFallback({ name: this.name.value, email: this.email.value, message: this.message.value }); } });}
        });
        
        window.addEventListener('resize', () => { const header = document.querySelector('.header'); if (header && getComputedStyle(header).position === 'fixed') { headerHeight = header.offsetHeight; document.body.style.paddingTop = headerHeight + 'px'; } });
    </script>
    
    <!-- Hero animation script (unchanged) -->
    <script>
// === HERO ANIMATION SCRIPT ===
document.addEventListener('DOMContentLoaded', function() {
    const canvas = document.getElementById('heroAnimationCanvas');
    const wrapper = document.getElementById('heroAnimationWrapper');

    if (!canvas || !wrapper ) {
        console.error("Hero animation elements (canvas or wrapper) not found!");
        return;
    }
    const ctx = canvas.getContext('2d');
    
    let animationId;
    let lastTimestamp = 0;
    
    const availableModes = ['flow', 'spiral', 'pulse', 'morph', 'greenSpectrum', 'pixelSwarm'];
    let currentModeIndex = 0;
    let currentModeName = availableModes[currentModeIndex];
    let previousModeName = currentModeName; 
    
    let modeSwitchTimestamp = 0;
    const MODE_DURATION_MS = 12000; 
    const TRANSITION_DURATION_MS_HALF = 750; 

    let transitionState = 'none'; // 'none', 'fadingOut', 'preparingNewMode', 'fadingIn'
    let transitionProgress = 0; 

    let baseComplexity = 120; 
    let params = {
        speed: 0.5, 
        complexity: baseComplexity, 
        scale: 1, 
        colorIntensity: 1.0,
        time: 0,
        phase: Math.random() * 2 * Math.PI // Initial phase
    };

    let pi = 4 * Math.atan(1);
    let r_const = 2 * pi / 235; 
    let t_math = 4 * Math.random(); // Initial t_math
    
    let x_val = 0, u_val = 0, v_val = 0; 

    let orange_dot_x_state = Math.random() * 4; 
    let orange_dot_u_state = 0;                 
    let orange_dot_v_state = 0;                 
    const ORANGE_DOT_SIZE = 2.5;                
    const ORANGE_DOT_COLOR = '#fd7e14';
    const ORANGE_DOT_PSEUDO_I_FACTOR = 0.42;    
    const ORANGE_DOT_TIME_SCALE = 0.35;         
    const ORANGE_DOT_T_MATH_INFLUENCE = 0.25;   

    const FRAME_THICKNESS = 6; 

    function setDimensions() {
        const heroVisualContainer = wrapper.parentElement; 
        const container = heroVisualContainer.parentElement; 
        let idealAnimationSize = Math.min(container.clientWidth * 0.48, heroVisualContainer.clientHeight * 0.90, 460);
        if (window.innerWidth < 992 && window.innerWidth >= 768) { idealAnimationSize = Math.min(container.clientWidth * 0.80, heroVisualContainer.clientHeight * 0.80, 380); }
        else if (window.innerWidth < 768) { idealAnimationSize = Math.min(heroVisualContainer.clientWidth * 0.90, heroVisualContainer.clientHeight * 0.80, 320); }
        idealAnimationSize = Math.max(280, idealAnimationSize);
        const wrapperSize = Math.floor(idealAnimationSize + 2 * FRAME_THICKNESS);
        wrapper.style.width = `${wrapperSize}px`;
        wrapper.style.height = `${wrapperSize}px`;
        canvas.width = Math.floor(idealAnimationSize);
        canvas.height = Math.floor(idealAnimationSize);
        params.scale = canvas.width / 4.2;
    }
    setDimensions();

    const tagsData = [
        { text: "AI", angle: Math.random() * 2 * pi, radiusFactor: 1.08, speed: 0.0008, el: null },
        { text: "Automation", angle: Math.random() * 2 * pi, radiusFactor: 1.12, speed: -0.0007, el: null },
        { text: "Scripts", angle: Math.random() * 2 * pi, radiusFactor: 1.06, speed: 0.0009, el: null },
        { text: "Data", angle: Math.random() * 2 * pi, radiusFactor: 1.14, speed: -0.0006, el: null },
        { text: "Solve", angle: Math.random() * 2 * pi, radiusFactor: 1.09, speed: 0.00075, el: null }
    ];

    function createTags() { 
        tagsData.forEach(tag => {
            const tagEl = document.createElement('div');
            tagEl.className = 'orbiting-tag';
            tagEl.textContent = tag.text;
            wrapper.appendChild(tagEl); 
            tag.el = tagEl;
        });
    }
    createTags();

    function updateTagsPosition(deltaTime) { 
        const centerX = wrapper.offsetWidth / 2;
        const centerY = wrapper.offsetHeight / 2;
        const baseRadius = wrapper.offsetWidth / 2;
        tagsData.forEach(tag => {
            if (!tag.el) return; 
            tag.angle += tag.speed * deltaTime;
            const currentRadius = baseRadius * tag.radiusFactor;
            const x = centerX + currentRadius * Math.cos(tag.angle) - tag.el.offsetWidth / 2;
            const y = centerY + currentRadius * Math.sin(tag.angle) - tag.el.offsetHeight / 2;
            tag.el.style.left = `${x}px`;
            tag.el.style.top = `${y}px`;
        });
    }
    
    function hsvToRgb(h, s, v) { 
        h /= 60; let c = v * s; let x_color = c * (1 - Math.abs((h % 2) - 1));
        let m = v - c; let r_rgb, g_rgb, b_rgb;
        if (h < 1) [r_rgb, g_rgb, b_rgb] = [c, x_color, 0]; else if (h < 2) [r_rgb, g_rgb, b_rgb] = [x_color, c, 0];
        else if (h < 3) [r_rgb, g_rgb, b_rgb] = [0, c, x_color]; else if (h < 4) [r_rgb, g_rgb, b_rgb] = [0, x_color, c];
        else if (h < 5) [r_rgb, g_rgb, b_rgb] = [x_color, 0, c]; else [r_rgb, g_rgb, b_rgb] = [c, 0, x_color];
        return { r: Math.floor((r_rgb + m) * 255), g: Math.floor((g_rgb + m) * 255), b: Math.floor((b_rgb + m) * 255) };
    }

    function switchModeLogic(timestamp) {  
        if (transitionState === 'none' && timestamp - modeSwitchTimestamp > MODE_DURATION_MS) {
            previousModeName = currentModeName;
            transitionState = 'fadingOut';
            transitionProgress = 0;
            modeSwitchTimestamp = timestamp; 
        }
    }

    function updateOrangeDotState(iterationsCount) { 
        let pseudo_i_orange = iterationsCount * ORANGE_DOT_PSEUDO_I_FACTOR;
        orange_dot_u_state = Math.sin(params.time * ORANGE_DOT_TIME_SCALE + orange_dot_v_state + params.phase * 0.5) + 
                             Math.sin(r_const * pseudo_i_orange + orange_dot_x_state);
        orange_dot_v_state = Math.cos(params.time * ORANGE_DOT_TIME_SCALE + orange_dot_v_state + params.phase * 0.5) + 
                             Math.cos(r_const * pseudo_i_orange + orange_dot_x_state);
        orange_dot_x_state = orange_dot_u_state + t_math * ORANGE_DOT_T_MATH_INFLUENCE; 
    }
    
    function animatePattern(timestamp) {
        if (!lastTimestamp) lastTimestamp = timestamp;
        const deltaTime = timestamp - lastTimestamp;
        lastTimestamp = timestamp;

        if (!modeSwitchTimestamp) modeSwitchTimestamp = timestamp;
        switchModeLogic(timestamp);

        params.time += (0.016 * params.speed) * (deltaTime / 16.66); 
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        let activeMode = currentModeName;
        let currentGlobalAlpha = 1;

        if (transitionState === 'fadingOut') {
            transitionProgress += deltaTime / TRANSITION_DURATION_MS_HALF;
            currentGlobalAlpha = 1 - Math.min(1, transitionProgress);
            activeMode = previousModeName; 

            if (transitionProgress >= 1) {
                currentModeIndex = (currentModeIndex + 1) % availableModes.length;
                currentModeName = availableModes[currentModeIndex];
                
                t_math = 4 * Math.random(); 
                params.phase = Math.random() * 2 * Math.PI; 
                params.complexity = (currentModeName === 'pixelSwarm') ? 220 : baseComplexity;
                
                orange_dot_x_state = Math.random() * 4;
                orange_dot_u_state = 0;
                orange_dot_v_state = 0;

                transitionState = 'fadingIn';
                transitionProgress = 0;
            }
        } else if (transitionState === 'fadingIn') {
            activeMode = currentModeName;
            transitionProgress += deltaTime / TRANSITION_DURATION_MS_HALF;
            currentGlobalAlpha = Math.min(1, transitionProgress);

            if (transitionProgress >= 1) {
                transitionState = 'none';
                currentGlobalAlpha = 1;
            }
        }
        
        let iterations = Math.floor(params.complexity / 5);
        
        x_val = t_math * (1 + Math.sin(params.time * 0.1) * 0.1); 

        ctx.globalAlpha = currentGlobalAlpha; 
        
        let particleSize = (activeMode === 'pixelSwarm') ? 1.5 : 2;
        
        for (let i = 0; i < iterations; i++) {
            for (let j = 0; j < iterations; j++) {
                let animatedI = i; let animatedJ = j; let timeOffset = 0;
                
                switch (activeMode) {
                    case 'flow': timeOffset = params.time; break;
                    case 'spiral': timeOffset = Math.atan2(j - iterations/2, i - iterations/2) + params.time; particleSize = (Math.sin(params.time + (i+j)*0.1) + 1.5); break;
                    case 'pulse': let dist = Math.sqrt((i - iterations/2)**2 + (j - iterations/2)**2); timeOffset = Math.sin(params.time * 1.5 + dist * 0.05) * 0.5; particleSize = 1 + Math.abs(Math.sin(params.time * 2 + dist * 0.1)) * 2; break;
                    case 'morph': animatedI = i + Math.sin(params.time + j * 0.1) * 8; animatedJ = j + Math.cos(params.time + i * 0.1) * 8; break;
                    case 'greenSpectrum': timeOffset = params.time * 1.5; break;
                    case 'pixelSwarm': timeOffset = params.time * 0.3 + Math.sin(i*0.1 + params.time) * 0.2; particleSize = 1 + Math.random() * 1; break;
                }
                
                u_val = Math.sin(animatedI + v_val + timeOffset + params.phase) + Math.sin(r_const * animatedI + x_val);
                v_val = Math.cos(animatedI + v_val + timeOffset + params.phase) + Math.cos(r_const * animatedI + x_val);
                x_val = u_val + t_math; 
                
                let px = Math.floor(canvas.width/2 + params.scale * u_val);
                let py = Math.floor(canvas.height/2 + params.scale * v_val);
                
                if (px >= 0 && px < canvas.width && py >= 0 && py < canvas.height) {
                    let R, G, B; let iFactor = animatedI / iterations; let jFactor = animatedJ / iterations;
                    if (activeMode === 'greenSpectrum') {
                        let hue = 90 + ((iFactor * 50) + (jFactor * 20) + (params.time * 15)) % 100; 
                        let sat = 0.6 + Math.sin(params.time * 0.8 + animatedI * 0.05) * 0.4; sat = Math.max(0.5, Math.min(1, sat * params.colorIntensity));
                        let val = 0.5 + Math.cos(params.time * 0.6 + animatedJ * 0.08) * 0.5; val = Math.max(0.4, Math.min(1, val * params.colorIntensity));
                        let hsv = hsvToRgb(hue, sat, val); R = hsv.r; G = hsv.g; B = hsv.b;
                    } else if (activeMode === 'pixelSwarm') {
                        let intensity = (Math.sin(params.time * 0.5 + (i * 0.05 + j * 0.03)) + 1) / 2; intensity = 0.4 + intensity * 0.6; 
                        R = Math.floor(intensity * (180 + Math.random()*50) ); G = Math.floor(intensity * (230 + Math.random()*25) ); B = Math.floor(intensity * (200 + Math.random()*50) );
                    } else {
                        let rRaw = (animatedI * 1.2 * params.colorIntensity + timeOffset * 15); let gRaw = (animatedJ * 2.0 * params.colorIntensity + timeOffset * 25 + iFactor * 60);
                        let bRaw = (220 - (animatedI + animatedJ) * 0.7 * params.colorIntensity + timeOffset * 20 + jFactor * 40);
                        R = Math.floor(rRaw % 80 + 30); G = Math.floor(gRaw % 135 + 120); B = Math.floor(bRaw % 100 + 60);
                        G = Math.max(G, (R + B) * 0.7); R = Math.min(R, G * 0.8, 150); B = Math.min(B, G * 0.9, 180);
                    }
                    
                    ctx.shadowBlur = 0; 
                    if (activeMode === 'pulse' || activeMode === 'spiral') {
                        const boost = Math.max(0, Math.sin(params.time + (i+j) * 0.05)) * 30;
                        R = Math.min(255, R + boost); G = Math.min(255, G + boost); B = Math.min(255, B + boost);
                        ctx.shadowColor = `rgba(${R},${G},${B}, 0.7)`; ctx.shadowBlur = Math.random() * 3 + 1;
                    }
                    ctx.fillStyle = `rgb(${R}, ${G}, ${B})`;
                    ctx.fillRect(px, py, particleSize, particleSize);
                }
            }
        }

        updateOrangeDotState(iterations); 

        let od_px = Math.floor(canvas.width/2 + params.scale * orange_dot_u_state);
        let od_py = Math.floor(canvas.height/2 + params.scale * orange_dot_v_state);

        if (od_px >= 0 && od_px < canvas.width && od_py >= 0 && od_py < canvas.height) {
            ctx.fillStyle = ORANGE_DOT_COLOR;
            ctx.shadowColor = 'rgba(253, 126, 20, 0.7)'; 
            ctx.shadowBlur = 6;
            ctx.beginPath();
            ctx.arc(od_px, od_py, ORANGE_DOT_SIZE, 0, 2 * Math.PI);
            ctx.fill();
            ctx.shadowBlur = 0;
        }

        ctx.globalAlpha = 1; 

        if (wrapper.offsetWidth > 0) { 
            updateTagsPosition(deltaTime); 
        }
        animationId = requestAnimationFrame(animatePattern);
    }
    
    animationId = requestAnimationFrame(animatePattern);

    document.addEventListener("visibilitychange", () => { 
         if (document.hidden) { cancelAnimationFrame(animationId);
        } else {
            lastTimestamp = performance.now(); 
            modeSwitchTimestamp = performance.now(); 
            transitionState = 'none'; 
            transitionProgress = 0;
            params.time = 0; 
            if(performance.now() - (modeSwitchTimestamp || 0) > MODE_DURATION_MS * 2) { 
                t_math = 4 * Math.random(); params.phase = Math.random() * 2 * Math.PI;
                orange_dot_x_state = Math.random() * 4; 
            }
            animationId = requestAnimationFrame(animatePattern);
        }
    });

    let resizeTimeout;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
            setDimensions();
        }, 250); 
    });
});
</script>
</body>
</html>
